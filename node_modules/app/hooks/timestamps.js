module.exports = function(...args) {

  if(args.length < 1) {
    args = [ 'createdAt', 'updatedAt' ]
  }

  return context => {

    if(context.method == 'create') {

      if(args.includes('createdAt')) {
        context.data.createdAt = new Date()
      }
      if(args.includes('updatedAt')) {
        context.data.updatedAt = new Date()
      }

    }

    if( ['update', 'patch'].includes(context.method) && args.includes('updatedAt') ) {
      context.data.updatedAt = new Date()
    }

    return context

  }

}
